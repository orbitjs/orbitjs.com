"use strict";(self.webpackChunkorbit_website=self.webpackChunkorbit_website||[]).push([[9277],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return u}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=p(n),u=r,h=m["".concat(l,".").concat(u)]||m[u]||d[u]||o;return n?a.createElement(h,i(i({ref:t},c),{},{components:n})):a.createElement(h,i({ref:t},c))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1563:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return p},assets:function(){return c},toc:function(){return d},default:function(){return u}});var a=n(3117),r=n(102),o=(n(7294),n(3905)),i=["components"],s={title:"v0.17 is finally final!",author:"Dan Gebhardt",author_title:"Orbit.js Creator",author_url:"https://github.com/dgeb",author_image_url:"https://avatars.githubusercontent.com/u/29122?v=4",tags:["release"]},l=void 0,p={permalink:"/blog/2022/01/31/v0-17-released",editUrl:"https://github.com/orbitjs/orbit/edit/main/website/blog/2022-01-31-v0-17-released.md",source:"@site/blog/2022-01-31-v0-17-released.md",title:"v0.17 is finally final!",description:"After two years, 28 beta releases, and over 400 commits, Orbit v0.17 is finally",date:"2022-01-31T00:00:00.000Z",formattedDate:"January 31, 2022",tags:[{label:"release",permalink:"/blog/tags/release"}],readingTime:5.555,truncated:!1,authors:[{name:"Dan Gebhardt",title:"Orbit.js Creator",url:"https://github.com/dgeb",imageURL:"https://avatars.githubusercontent.com/u/29122?v=4"}],nextItem:{title:"Welcome to the new Orbitjs.com",permalink:"/blog/2021/07/16/welcome-to-the-new-orbitjs"}},c={authorsImageUrls:[void 0]},d=[],m={toc:d};function u(e){var t=e.components,n=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"After two years, 28 beta releases, and over 400 commits, Orbit v0.17 is finally\nready! \ud83c\udf89"),(0,o.kt)("p",null,"Orbit's docs have been updated to reflect all the changes. If you are upgrading\nfrom v0.16, the place to start is the ",(0,o.kt)("a",{parentName:"p",href:"/docs/whats-new"},'"What\'s new"')," section."),(0,o.kt)("p",null,"Some highlights of this release include:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"New API reference docs")," ","\u2014"," At long last, Orbit v0.17 has ",(0,o.kt)("a",{parentName:"p",href:"/docs/api"},"API\ndocs")," for all its packages. These docs are generated by\n",(0,o.kt)("a",{parentName:"p",href:"https://typedoc.org/"},"TypeDoc")," from Orbit's typings and code annotations.\nAlthough a bit sparse for now, this reference should only improve with time\nand help from the community.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Improved, strict typings throughout")," ","\u2014"," By improving the quality of\nOrbit's TypeScript, we have been able to refactor more confidently, provide\nbetter documentation, and make for a better developer experience all around.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Extraction of ",(0,o.kt)("inlineCode",{parentName:"strong"},"@orbit/records")," from ",(0,o.kt)("inlineCode",{parentName:"strong"},"@orbit/data"))," ","\u2014"," As part of the\npush to improve typings, it became clear that ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/data"},(0,o.kt)("inlineCode",{parentName:"a"},"@orbit/data")),"\ncontains a number of interfaces and classes that could prove useful for ",(0,o.kt)("em",{parentName:"p"},"any"),"\ntype of data, not just records. Thus, record-specific types and classes\nwere extracted into a new package: ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/records"},(0,o.kt)("inlineCode",{parentName:"a"},"@orbit/records")),".\nApologies for the breaking changes with module imports. We wanted to get this\nchurn out of the way before the semver constraints that will come with v1.0.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Multi-expression queries")," ","\u2014"," Just as transforms can contain multiple\noperations, queries can now contain multiple expressions. This allows sources,\nsuch as ",(0,o.kt)("inlineCode",{parentName:"p"},"JSONAPISource"),", to optionally perform these expressions in parallel.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Per-expression/operation options")," ","\u2014"," Along with the move to\nmulti-expression queries, we've introduced per-expression options. This can be\nuseful if, for instance, you want to specify a different target ",(0,o.kt)("inlineCode",{parentName:"p"},"url")," per\nexpression. Similarly, transform operations can also each have their own\noptions.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Full vs. data-only responses")," ","\u2014"," All requests (queries and updates)\ncan now be made with the ",(0,o.kt)("inlineCode",{parentName:"p"},"{ fullResponse: true }")," option to receive responses\nin the form ",(0,o.kt)("inlineCode",{parentName:"p"},"{ data, details, transforms, sources }"),". ",(0,o.kt)("inlineCode",{parentName:"p"},"data")," will include the\nprimary data that would be returned without the ",(0,o.kt)("inlineCode",{parentName:"p"},"fullResponse")," option.\n",(0,o.kt)("inlineCode",{parentName:"p"},"details")," includes response details particular to the source, and ",(0,o.kt)("inlineCode",{parentName:"p"},"sources"),"\nincludes a named map of all the responses from downstream sources that\nparticipated in this request. This allows you to access full response\ndocuments, inverse operations, etc. ",(0,o.kt)("em",{parentName:"p"},"from the initial request call point"),".")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Deprecation of ",(0,o.kt)("inlineCode",{parentName:"strong"},"Pullable")," and ",(0,o.kt)("inlineCode",{parentName:"strong"},"Pushable")," interfaces")," ","\u2014"," Now that\nresponses can include full processing details, everything that was unique to\nthe ",(0,o.kt)("inlineCode",{parentName:"p"},"push")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"pull")," methods on source is redundant. The ",(0,o.kt)("inlineCode",{parentName:"p"},"Pullable")," and\n",(0,o.kt)("inlineCode",{parentName:"p"},"Pushable")," interfaces have been deprecated to focus on the more capable\n",(0,o.kt)("inlineCode",{parentName:"p"},"Queryable")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"Updatable")," interfaces for making requests.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Transform buffers for faster cache processing")," ","\u2014"," Record-cache-based\nsources that interact with browser storage have had performance issues when\ndealing with large datasets, especially when paired with read/write heavy\nprocessors that ensure relationship tracking and correctness. A new paradigm\nhas been developed, the ",(0,o.kt)("inlineCode",{parentName:"p"},"RecordTransformBuffer"),", that acts as a memory buffer\nfor these operations. For now, using this buffer is opt-in, with the ",(0,o.kt)("inlineCode",{parentName:"p"},"{\nuseBuffer: true }")," option. You'll be reminded to explicitly set this option to\neither ",(0,o.kt)("inlineCode",{parentName:"p"},"true")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"false")," until you do. Early users are reporting promising\nresults with IndexedDB, such as ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/orbitjs/orbit/issues/798#issuecomment-800544909"},"performance boosts of > 20x with large\nnumbers of\noperations"),".")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"New serializers")," ","\u2014"," Concepts of serialization have, up until now, been\nvery specific to usage by the ",(0,o.kt)("inlineCode",{parentName:"p"},"JSONAPISource"),", and particularly the\n",(0,o.kt)("inlineCode",{parentName:"p"},"JSONAPISerializer")," class. This class has been deprecated and replaced with a\nseries of composable serializers all built upon a simple and flexible\n",(0,o.kt)("a",{parentName:"p",href:"/docs/api/serializers/interfaces/Serializer"},(0,o.kt)("inlineCode",{parentName:"a"},"Serializer"))," interface. This\ninterface, as well as some serializers for primitives (booleans, dates,\ndate-times, etc.) have been published in a new package,\n",(0,o.kt)("a",{parentName:"p",href:"/docs/api/serializers"},(0,o.kt)("inlineCode",{parentName:"a"},"@orbit/serializers")),". And of course, new serializers\nparticular to JSON:API have been added to\n",(0,o.kt)("a",{parentName:"p",href:"/docs/api/jsonapi"},(0,o.kt)("inlineCode",{parentName:"a"},"@orbit/jsonapi")),".")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"New validators")," ","\u2014"," A common source of problems for Orbit developers\nhas been using data that is malformed or doesn't align with a schema's\nexpectations. This can cause confusing errors during processing by a cache or\ndownstream source. To address this problem, we're introducing \"validators\",\nwhich are shipped in a new package ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/validators"},(0,o.kt)("inlineCode",{parentName:"a"},"@orbit/validators")),"\nthat includes some validators for primitive types. Validators that are\nrecord-specific have also been included in\n",(0,o.kt)("a",{parentName:"p",href:"/docs/api/records"},(0,o.kt)("inlineCode",{parentName:"a"},"@orbit/records")),". By default, each source will build its\nown set of validators and use them automatically. You can instead share a\ncommon set of validators via the ",(0,o.kt)("inlineCode",{parentName:"p"},"validatorFor")," settings. And you can opt-out\nof using validators entirely by configuring your sources with ",(0,o.kt)("inlineCode",{parentName:"p"},"{ autoValidate:\nfalse }"),".")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Record normalizers")," ","\u2014"," When building queries and transforms, some\nscenarios have been more tedious than necessary: identifying records by a key\ninstead of ",(0,o.kt)("inlineCode",{parentName:"p"},"id"),", for instance, or using a model class from a lib like\nember-orbit to reference a record instead of its json identity. A new\nabstraction has been added to make query and transform builders more flexible:\nrecord normalizers. Record normalizers implement the\n",(0,o.kt)("a",{parentName:"p",href:"/docs/api/records/interfaces/RecordNormalizer"},(0,o.kt)("inlineCode",{parentName:"a"},"RecordNormalizer"))," interface\nand convert record identities and/or data into a normalized form. The new base\nnormalizer now allows ",(0,o.kt)("inlineCode",{parentName:"p"},"{ type, key, value }")," to be used anywhere that ",(0,o.kt)("inlineCode",{parentName:"p"},"{ type,\nid }")," identities can be used, which significantly reduces the annoyance of\nworking with remote keys. Other normalizers,")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Synchronous change tracking in memory forks")," ","\u2014"," Previously, memory\nsource forks behaved precisely like other memory sources: every trackable\nupdate applied at the source level (and thus async). Now, the default (but\noverrideable) behavior is to track changes at the cache level in forks. Thus\nsynchronous changes can be made to a forked cache and then merged back into\nthe base source. This better accomodates the most common use case for forks:\nediting form data in isolation before merging coalesced changes back to the\nbase.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Debug mode")," ","\u2014"," A new ",(0,o.kt)("inlineCode",{parentName:"p"},"debug")," setting has been added to the ",(0,o.kt)("inlineCode",{parentName:"p"},"Orbit"),'\nglobal, that toggles between using a more verbose, developer-friendly "debug"\nmode of Orbit vs. a leaner, more performant production mode. Since debug mode\nis enabled by default, you\'ll need to set ',(0,o.kt)("inlineCode",{parentName:"p"},"Orbit.debug = false")," in order to\neliminate deprecation warnings and other debug-friendly messaging.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Increased reliance on The Platform\u2122")," ","\u2014"," Orbit's codebase continues to\nevolve with the web, adopting new ES language and web platform features as\nthey are released. Custom utilities have been gradually deprecated and phased\nout of the codebase (e.g. ",(0,o.kt)("inlineCode",{parentName:"p"},"isArray")," -> ",(0,o.kt)("inlineCode",{parentName:"p"},"Array.isArray"),"), new language features\nsuch as nullish coalescing and optional chaining have been adopted, and\nplatform features such as\n",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/Crypto/randomUUID"},(0,o.kt)("inlineCode",{parentName:"a"},"crypto.randomUUID")),"\nhave been adopted (with a fallback implementation if unavailable)."))),(0,o.kt)("p",null,"These highlights are covered in more depth, including code samples, in the\n",(0,o.kt)("a",{parentName:"p",href:"/docs/whats-new"},'"What\'s new"')," section of the main guides."),(0,o.kt)("p",null,"Thanks for your patience with this release. We expect that v0.18 will not take\nnearly as long as v0.17 did. In fact, we plan to use this next release primarily\nto remove deprecated interfaces in preparation for a lean and focused v1.0\nrelease."))}u.isMDXComponent=!0}}]);